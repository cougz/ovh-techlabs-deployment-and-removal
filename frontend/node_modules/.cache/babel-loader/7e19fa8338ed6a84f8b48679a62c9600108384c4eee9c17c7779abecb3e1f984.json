{"ast":null,"code":"import{createSlice}from'@reduxjs/toolkit';const initialState={workshops:[],currentWorkshop:null,currentWorkshopAttendees:[],loading:false,error:null};const workshopSlice=createSlice({name:'workshops',initialState,reducers:{setLoading:(state,action)=>{state.loading=action.payload;},setError:(state,action)=>{state.error=action.payload;},setWorkshops:(state,action)=>{state.workshops=action.payload;},setCurrentWorkshop:(state,action)=>{state.currentWorkshop=action.payload;},setCurrentWorkshopAttendees:(state,action)=>{state.currentWorkshopAttendees=action.payload;},updateWorkshop:(state,action)=>{const index=state.workshops.findIndex(w=>w.id===action.payload.id);if(index!==-1){state.workshops[index]=action.payload;}},addWorkshop:(state,action)=>{state.workshops.unshift(action.payload);},removeWorkshop:(state,action)=>{state.workshops=state.workshops.filter(w=>w.id!==action.payload);},updateAttendee:(state,action)=>{const index=state.currentWorkshopAttendees.findIndex(a=>a.id===action.payload.id);if(index!==-1){state.currentWorkshopAttendees[index]=action.payload;}},addAttendee:(state,action)=>{state.currentWorkshopAttendees.push(action.payload);},removeAttendee:(state,action)=>{state.currentWorkshopAttendees=state.currentWorkshopAttendees.filter(a=>a.id!==action.payload);},clearCurrentWorkshop:state=>{state.currentWorkshop=null;state.currentWorkshopAttendees=[];},updateAttendeeStatus:(state,action)=>{const{attendeeId,status,details}=action.payload;// Update in current workshop attendees\nconst attendee=state.currentWorkshopAttendees.find(a=>a.id===attendeeId);if(attendee){attendee.status=status;if(details!==null&&details!==void 0&&details.project_id){attendee.ovh_project_id=details.project_id;}if(details!==null&&details!==void 0&&details.user_urn){attendee.ovh_user_urn=details.user_urn;}}},updateWorkshopStatus:(state,action)=>{var _state$currentWorksho;const{workshopId,status}=action.payload;// Update in workshops list\nconst workshop=state.workshops.find(w=>w.id===workshopId);if(workshop){workshop.status=status;}// Update current workshop\nif(((_state$currentWorksho=state.currentWorkshop)===null||_state$currentWorksho===void 0?void 0:_state$currentWorksho.id)===workshopId){state.currentWorkshop.status=status;}}}});export const{setLoading,setError,setWorkshops,setCurrentWorkshop,setCurrentWorkshopAttendees,updateWorkshop,addWorkshop,removeWorkshop,updateAttendee,addAttendee,removeAttendee,clearCurrentWorkshop,updateAttendeeStatus,updateWorkshopStatus}=workshopSlice.actions;export default workshopSlice.reducer;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}